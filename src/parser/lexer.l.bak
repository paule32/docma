%{(* ------------------------------------------------------- *)
(* File: lexer.l                                           *)
(*                                                         *)
(* Autor: Jens Kallup <kallup.jens@gmail.com>              *)
(* Copy : (c) 2022 by Jens Kallup                          *)
(*                                                         *)
(* only for private use !                                  *)
(* ------------------------------------------------------- *)

}%

DIGIT       [0-9\.]
LETTER      [a-zA-Z]
HEXALETTER  [a-fA-F]
HEXANUMBER  [0][x](({DIGIT}|{HEXALETTER})+)
NUM         {DIGIT}+
WS          [ \t\n\r]*
ID          [a-z_]+[a-zA-Z0-9_]*
REMS1       ((\/\/.*)|(\&\&.*)|(\/\/.*\n*)|(\&\&.*\n*))*
REMS2       ((\/\*\*\/)|(\/\*(\n*|.*)\*\/))*
REMSER      {WS}{REMS1}|{REMS2}{WS}
FILE1       [ a-zA-Z0-9\_\.\\]*
FILENAME    \"(({LETTER}\:\\{FILE1})|({LETTER}\:{FILE1})|({FILE1})*)\"
STRING      (\"(.*)\")+

%%

[ \t]*\n        begin inc(yylineno); end;
[ \t]*          ;
\;.*\n          begin inc(yylineno); ShowMessage('comment1: ' + yytext); end;
\;.*            begin inc(yylineno); ShowMessage('comment2: ' + yytext); end;
\n              begin inc(yylineno); end;

{DIGIT}*        begin ShowMessage('a digits: ' + yytext); end;
.               begin yyerror('syntax error.'); end;

%%

